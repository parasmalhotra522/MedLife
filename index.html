<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to Med Life</title>


    <!---->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="./styles/home-styles.css">
    <script src="https://smtpjs.com/v3/smtp.js"></script>
    <link rel="stylesheet" href="./styles/user-profile.css">
   
    <style>
        .feature-card {
            cursor: pointer;
        }
        .feature-card:hover {
            transform: scale(1.01,1.01);
            transition:.5 all ease;
        }
    </style>
</head>
<body>
   
    <header>
            
        <!--    The Upper Navbar   -->
        <nav class="navbar navbar-expand-lg navbar-light">
           <div class="container-fluid">
            <div class="row">
                <div class="col-md-2">
                    <a href="./index.html" class="navbar-brand">
                        <img src="./assets/images/logo-image.png" class="logo-image">
                    </a>
                 </div>


                 <div class="collapse navbar-collapse nav-bar  col-md-10 upper-nav-bar" id="navbarCollapse">
                    <div class="navbar-nav col-md-7">
                        <input type="search"
                         style="width:64rem;"
                        class="form-control nav-item nav-link" placeholder="Search" aria-label="Search" aria-describedby="search-addon">
                    </div>
 
                   
                    
 
                     <!--- ------** User Cart functionality showing the number of items for a user in the cart **-----  -->
                     <div class="navbar-nav col-md-1" style="width: 12.499999995%;flex: 0 0 12.499%;max-width: 12.499%;">
                         <a href="./checkout-form.html" class="nav-item nav-link"
                         id="cart-nav"
                         >
                             
                             <i class="fa fa-shopping-cart"></i>
                             Cart <script>document.getElementById('cart-nav').innerHTML=`
                             <i class="fa fa-shopping-cart"></i>
                             Cart
                             <span  style="border-radius:50%; background-color:#e31b6d;">
                             
                             <span class='badge badge-warning' style={
                                 font-size: 12px;
                                 background: #ff0000;
                                 color: #fff;
                                 padding: 0 5px;
                                 vertical-align: top;
                                 margin-left: -10px;
                             }> 
                                 ${ JSON.parse(localStorage.getItem('activeUser')).userCart.length }
                                  </span>
                             
                             `
                         
                             </script>
                                 
                     </a>
 
                     </div>
                     
                  
                    <div class="navbar-nav col-md-2">
                        <a target="_blank" href="sign-in.html" 
                        id="signInBtn"
                        class="nav-item nav-link">Sign In / Register</a>
                    </div>
                    <!-- User profile button -->
                    <div class="navbar-nav col-md-2 ms-auto"
                    style="position:absolute;
                    left:83%;
                    "
                    >
                   
                       
                        <a target="_blank" 
                        id="userProfile"
                        style="cursor: pointer; font-size: 1.2rem;padding:1.2rem;"
                        class="nav-item nav-link fa fa-user"
                        onclick="toggleMenu()"
                        >
                        </a>
                        
                    </div>
                    
                </div>
            </div>
           
               <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                   <span class="navbar-toggler-icon"></span>
               </button>
               
               
           </div>
         
       </nav>
       <div class="sub-menu-wrap" id="subMenu">
           <div class="sub-menu">
               <div class="user-info" >
                   <img src="./assets/images/profile.webp" style="height:40px;width:30px;">
                   <h2 id="userNameProfile" style="font-family: inherit; margin-left:.8rem;">

                   </h2>
               </div>
               <hr>

               <a href="#" class="sub-menu-link">
                  <i class="fa fa-user fa-2x"></i>
                   <p onclick="location.href=`./edit-user-profile.html`">Edit Profile ></p>
                   
               </a>

               <a href="#" class="sub-menu-link">
                   <i class="fa fa-cog fa-2x"></i>
                   <p>Settings & Privacy ></p>
                  
               </a>

               <a href="#" class="sub-menu-link" onclick="logOut()">
                  <i class="fa fa-sign-out fa-2x"></i>
                   <p>Logout ></p>
               
               </a>
           </div>
       </div>

   </header>
   <!-- Second-nav-bar-->
   <nav class="navbar navbar-expand-lg navbar-light lower-navbar">
       <div class="container-fluid">
         
           <div class="collapse navbar-collapse nav-bar" id="navbarCollapse">
               <div class="navbar-nav col-md-1" style="width: 12.499999995%;flex: 0 0 12.499%;max-width: 12.499%;"><a href="./index.html" class="nav-item nav-link active-nav"><i class="fa fa-home icons"></i>Home</a></div>
               <div class="navbar-nav col-md-1" style="width: 12.499999995%;flex: 0 0 12.499%;max-width: 12.499%;">
               <a href="./shop.html" class="nav-item nav-link"><i class="fa fa-shopping-basket p-2"></i>Shop</a></div>
               <div class="navbar-nav col-md-1 col-sm-2" style="width: 12.499999995%;flex: 0 0 12.499%;max-width: 12.499%;"><a href="./about.html" class="nav-item nav-link">About Us</a></div>
               <div class="navbar-nav col-md-2 col-sm-2" id="pharmacyServices">
                   <a href="#" class="nav-item nav-link"
                   >Pharmacy Services</a></div>
               <div class="navbar-nav col-md-3 col-sm-3"><a href="./doctor's-prescription.html" class="nav-item nav-link">Doctor's Prescription</a></div>
               


           </div>
           
       </div>
   </nav>
    
    <!-- Modal for the medical conditions -->
    <div id="conditions-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times</span>
            
            <div>
                <h4 class="categories-heading">Categories</h4>
                <hr>
                <ul class="medical-categories">
                
                    <li>
                        <a href="ent.html" class="medical-conditons">ENT (Ear, Nose, Throat)</a>
                    </li>
                    <li>
                        <a href="./eye-care.html" class="medical-conditons">Eye Care</a>
                  
                    </li>
                    <li>
                        <a href="./allergy.html" class="medical-conditons">Allergies</a>
                  
                    </li>
                    <li>
                        <a href="./diabetes.html" class="medical-conditons">Diabetes</a>
                    </li>
                    <li>
                        <a href="./mental-health.html" class="medical-conditons">Mental Health</a>
                    </li>
                </ul>
            </div>

        </div>
    </div>





    <!-- Banner Image Corousels -->
    <!-- All Images of the banner's corousel -->
    <section class="banner-section">
        <div  id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
        <div class="carousel-item active">
            <img class="banner-corousel-image" src="./assets/images/corousel-img-01.jpeg" alt="Please reload the page" />
        </div>

        <div class="carousel-item ">
            <img class="banner-corousel-image" src="./assets/images/corousel-img-02.jpeg" alt="Please reload the page" />
        </div>
        <div class="carousel-item ">
            <img class="banner-corousel-image" src="./assets/images/corousel-img-03.jpeg" alt="Please reload the page" />
        </div>
        <div class="carousel-item ">
            <img class="banner-corousel-image" src="./assets/images/corousel-img-04.jpeg" alt="Please reload the page" />
        </div>
        
        
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
        </button>
        </div>
    </section>

    <!-- Banner Image Corousels end-->


<!-- ** SALES & Offers **-->
<section class="features-section" id="features-section" style="padding:2rem;">
    <h1 class="header-bar">Features</h1>

    <div class="row">
        <div class="col-md-4">
            <div class="card feature-card" onclick="routeToAppointments()">
                <img src="./assets/images/bookAppointment.png" alt="Avatar" style="width:100%;height:50%;">
                <div class="container card-body">
                  <h4 class="card-title"><b>Book your Appointment Now</b></h4> 
                  <p>
                    Weekdays: 10 AM to 7 PM
                    <br>
                    Weekend:  10 AM to 1 PM
                    <br>
                    (Sunday Closed)
                    <br>
                    (* Client without prior appointment will be considered as per availability)
                  </p> 
                </div>
              </div>
        </div>
        <div class="col-md-4">
            <div class="card feature-card" onclick="routeToAppointments()">
                    <img src="./assets/images/presMed.webp" alt="Avatar" style="width:100%;height:50%;">
               
                <div class="container card-body">
                  <h4 class="card-title"><b>Looking for Prescription Medication</b></h4> 
                  <p>
                    Scan your prescription here
                    and get full assistance and
                    medication in no time !
                    (* Prescription subjected to authenticated)
                  </p> 
                </div>
              </div>
        </div>
        <div class="col-md-4">
            <div class="card feature-card" onclick="routeToAppointments()">
                <img src="./assets/images/vaccine.jpg" alt="Avatar" style="width:100%;height:50%;">
                <div class="container card-body">
                  <h4 class="card-title"><b>Take a Covid-19 Test/Vaccine</b></h4> 
                  <p>
                    Register your slot for COVID-19 vaccine
                    Get COVID 19 testing kit and test on the go !
                  </p> 
                </div>
              </div>
        </div>
    </div>

</section>




<!-- Categories Section-->
<section id="categories" style="padding:2rem;">

    <h1 class="header-bar">Categories</h1>

    <div class="text-placement">
       
       <div class="category">
        <a href="./ent.html" target="_blank">
            <h4>ENT</h4>
            <img class="category-image" src="https://www.zenhospital.in/wp-content/uploads/2019/05/Best-ENT-Treatment-In-Chembur-1-800x350.jpg">
        </a>
       </div>

       <div class="category">
        <a href="./eye-care.html"  target="_blank">
            <h4>Eye Care</h4>
            <img class="category-image" src="https://foresee-eyecare.com/wp-content/uploads/2021/08/foresee-eyecare-hp2021-hero-mobile-aug10.jpg">
        </a>   
    </div>

       <div class="category">
        <a href="./allergy.html"  target="_blank">
            <h4>Allergies</h4>
            <img class="category-image" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSEQ6lV7cn56btMjqwLBsOOMYq7coJdO16dLw&usqp=CAU">
        </a>
    </div>
      
    <div class="category">
        <a href="./diabetes.html"  target="_blank">
        <h4>Diabetes</h4>
        <img class="category-image" src="https://news.yale.edu/sites/default/files/styles/featured_media/public/adobestock_276205639.jpeg?itok=PjcxEgaC&c=07307e7d6a991172b9f808eb83b18804">
        </a>
    </div>
      
    <div class="category">
        <a href="./mental-health.html"  target="_blank">
            <h4>Mental Health</h4>
            <img class="category-image" src="https://npr.brightspotcdn.com/dims4/default/faf66be/2147483647/strip/true/crop/1024x719+0+0/resize/880x618!/quality/90/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2Flegacy%2Fsites%2Fkstx%2Ffiles%2F201808%2FMentalHealth_Flickr.jpg">
        </a>
    </div>
      

      
        
    </div>
   
    
    
</section>



<!-- ******* Contact Us form *********-->


<section id="contact-us-form">
    <div class="contact-container">
        <h1 class="get-in-touch-heading" style="font-size:2rem;">
            <span class="underline--magical" style="text-transform: uppercase;">
                Get in <span class="content-header "> 
                    Touch with us</span>
            </span>
        </h1>
        <p class="text-center">We'd love to hear from you! Please send us a note or comment and We'll reply promptly.</p>

        <form id="contact-us">
            <div class="input-icons">
                <!-- <i class="fa fa-users p-3 bg-info"></i> -->
                
                <div class="form-field">
                    <i class="fa fa-user icon"></i>
                    <input type="text" name="name" id="userName" required class="form" placeholder="Name" />
                    <br>
                    <small id="error-user-name"></small>
                </div>
                
                
                <br>
                <div class="form-field">
                    <i class="fa fa-envelope icon"></i>
                    <input type="email" name="mail" id="emailId" required class="form" placeholder="Email" />
                    <br>
                    <small id="error-email"></small>
                </div>
                <br>

                <div class="form-field">
                    <i class="fa fa-phone icon"></i>
                    <input type="text" name="subject" id="mobileNo" required="required" 
                    class="form" placeholder="Mobile No." />
                    <br>
                    <small id="error-mobile"></small>
                </div>
                <br>
                
                <div class="form-field">
                    <i class="icon"></i>
                    <textarea name="message" id="textMessage" class="form textarea" 
                        row="3" cols="max"
                        maxlength="500"
                    placeholder="Message"></textarea>
                    <br>
                    <small id="error-message"></small>
                </div>
            
            </div>

            <div class="submit-btn">
            
                <button type="submit" id="submit" name="submit"
                onclick="sendMail()" 
                class="form-btn semibold">Send Message</button> 
            </div>
    
            <div class="clear"></div>
        </form>



    </div>

</section>








<!-- ***** Back to top Section *****-->

<section style="margin:0;padding:0; background-color:#e31b6d;" 
    onclick="backtotop()" 
    class="backtotop">
    <h2 style="text-align: center;padding:1rem; color:#fff; margin:0;">
        <span class="fa fa-angle-double-up spanarrow">
        </span>
        Back to top
    </h2>
</section>






</body>
<!-- ** Footer **  --->
<footer>
    <section class="page-footer">

       
       <div class="quick-links">
            <h2 class="text-center"> Quick Links</h2>
            <ul class="footer-quick-links">
                <li>
                    <a href="./index.html">Home</a>
                </li>

                <li>
                    <a href="./sign-in.html">Sign in</a>
                </li>

                
                <li><a href="./about.html">About Us</a></li>
           
                <li>
                    <a href="./appointment-form.html">Book an Appointment</a>
                </li>
            </ul>
       
       
        </div>
        <!-- Connect with us Section -->
        <div class="quick-links">
            <h2 class="text-center">Connect with Us</h2>
            <ul>
                
                <li>
                    <i class="fa fa-map-marker" 
                    style="color:#FF0000;
                    font-size: 1.5rem;
                    padding: 1.05rem;"></i> 1 Eva Road, M9C 4Z5, Etobicoke, Canada
                  


                </li>
                <li>
                    <i class="fa fa-phone" 
                    style="
                    color:#00BFFF;
                    font-size: 1.5rem;
                    padding: 1.05rem;"></i> +1 (647)-867-4343
                </li>
                
            </ul>

           <div class="contactus">
           
            <li class="list-inline-item">
                <a href="mailto:confusion@food.net" 
                    target="_blank"
                 type="button" class="button fb">
                <span class="fa fa-envelope fa-2x spin"></span>
                </a>
            </li>

            <li class="list-inline-item">
                <a href="https://www.twitter.com/elonmusk" 
                    target="_blank"
                    type="button" class="button fb">
                  <span class="fa fa-twitter fa-2x spin"></span>
                </a>
            </li>
           
          
           <li class="list-inline-item">
            <a href="https://www.facebook.com/" 
                target="_blank"    
                type="button" class="button fb">
              <span class="fa fa-facebook fa-2x spin"></span>
            </a>
          </li>

          <li class="list-inline-item">
            <a href="https://www.instagram.com/" 
                target="_blank"
                type="button" class="button fb">
              <span class="fa fa-instagram fa-2x spin"></span>
            </a>
          </li>
        
        </div>
       
       
        </div>


        <!-- ** GET UPDATES ** -->
        <div class="quick-links">
            <h2 class="text-center"> Get Updates</h2>
            
            <form class="get-updates"> 
                <input type="email" class="form-control" id="inputEmail"
                    style="width:13rem;height:1.8rem;"
                placeholder="name@email.com"
                 data-error="Bruh, that email address is invalid" required>
                  <br>
               
                <div class="submit-btn">
            
                    <button type="submit" 
                        name="submit" 
                        class="form-btn submit-footer">Send Message</button> 
                </div>
            </form>
    
       
       
        </div>

       
       
    </section> 
    <div class="footer-copyright text-center pt-2">
        Â© All Copyrights are reserved by MedLife Corporations
    </div>
   

</footer>

<script>


/* ***------------ 


/* ****----------- Pharmacy Modal ---------******* */

var modal = document.getElementById("conditions-modal");

// Get the button that opens the modal
var btn = document.getElementById("pharmacyServices");

// close button to close the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks on the button, open the modal 
btn.onclick = function() {
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}




/* ****----------- Pharmacy Modal ends ------******** */



    function backtotop() {
        document.body.scrollTop = 0; 
        document.documentElement.scrollTop = 0; 
    }



    // ************------------- Contact Us Form Starts -------------**************
    // ------ error messages code blocks -------

    const showSuccess = (element,elementId, message) => {
        // console.log("check success" , element, elementId);
        document.getElementById(elementId).innerHTML= '';
        document.getElementById(elementId).classList.remove('error-message');
    }
    const showError=(element,elementId, message) => {
        // console.log(`${element} message ${elementId} ${message}`);
        document.getElementById(elementId).innerHTML= '&#x26A0' + ' ' + message;
        document.getElementById(elementId).classList.add('error-message');
    }
    
    let isRequired = (value) =>  value ? true : false; 
    const isBetween = (length, min, max) => length < min || length > max ? false : true;

    // ------ email checking using regex expression -------
    const isEmailValid = (email) => {
        let reg = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return reg.test(email);
    };

    const isMobileNumberValid = (mobileNo) => {
        let reg = /^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/
        return reg.test(mobileNo);
    }
  

    // ---- validation for each field ----

    const checkUsername = (userName) => {
            let valid = false;
            const min = 3,max = 25;
            const username = userName.length > 0 ? userName.trim() : null;
            if (!isRequired(username)) {
                showError(userName,'error-user-name', 'Username cannot be blank.');
             } 
             else if (!isBetween(username.length, min, max)) {
                showError(userName, 'error-user-name', `Username must be between ${min} and ${max} characters.`)
            }
             else { 
                showSuccess(username,'error-user-name','' );
                valid = true;
            }
            // return valid;
        }
    
    const checkEmailValidation = (emailId) => {        
            // console.log("Check email", emailId, typeof(emailId));
            if (!isRequired(emailId)) {
                showError(emailId, 'error-email', 'Email Id cannot be blank.');
             } 
             else if (!isEmailValid(emailId)) {
                showError(emailId, 'error-email', 'Email Id is not valid');
            }
             else { 
                showSuccess(emailId,'error-email');
            }
    }
    
    const checkMobileValidation = (mobileNo) => {
            if (!isRequired(mobileNo)) {
                showError(mobileNo, 'error-mobile', 'Mobile Number cannot be blank.');
             } 
             else if (!isMobileNumberValid(mobileNo)) {
                showError(mobileNo, 'error-mobile', 'Mobile Number is not valid');
            }
             else { 
                showSuccess(mobileNo,'error-mobile');
            }
   } 
    
    const checkTextMessage = (textMessage) => {
        let min=5, max=500;
        if (!isRequired(textMessage)) {
                showError(textMessage,'error-message', 'Text Message cannot be blank.');
            } 
        else if (!isBetween(textMessage.length, min, max)) {
                showError(textMessage, 'error-message', `Text Message must be between ${min} and ${max} characters.`)
            }
            else { 
                showSuccess(textMessage,'error-message');
            }
        
    }
    const form = document.querySelector('#contact-us');
    const $ = (id) => document.getElementById(id).value;
   
    document.querySelector('#userName').addEventListener('input', () => checkUsername($('userName')));
    document.querySelector('#emailId').addEventListener('input',()=>checkEmailValidation($('emailId')));
    document.querySelector('#mobileNo').addEventListener('input',()=>checkMobileValidation($('mobileNo')));
    document.querySelector('#textMessage').addEventListener('input',()=>checkTextMessage($('textMessage')));
   
    // function to retreive the field values entered by the user
    function sendMail() {
        let userName = $('userName');
        let email = $('emailId');
        let mobileNo = $('mobileNo');
        let textMessage = $('textMessage');

        console.log(`userName : ${userName}\n
            email : ${email}\n
            mobileNo : ${mobileNo}\n
            textMessage : ${textMessage}
        `);
        Email.send({
            Host: "smtp.gmail.com",
            Username: userName,
            To: 'shopatmedlife@gmail.com',
            From: email,
            Subject: "Queries",
            Body: textMessage,
        })
        .then(function (message) {
                alert("mail sent successfully")
        },(error)=>{
            console.log("error", error);
        });
        
        
        form.addEventListener('submit', (e)=>{
            e.preventDefault();
        })
    }

     // ************------------- Contact Us Form Ends  -------------**************
   

    // initializing users array and storing it on local storage for authentication purposes
    let users = [
            {
                "userName" : "PMalhotra",
                "emailId" : "parasmalhotra@medlife.com",
                "userPassword" : "Test$123",
                "isAdmin" : false,
                'isLoggedIn' : false,
                "userCart" : [],
                "savedAddress"  : ["261 Yorkland Blvd, M2J 1S5, Toronto"]
            },
            {
                "userName" : "testUser",
                "emailId" : "testUser@medlife.com",
                "userPassword" : "Test$1234",
                "isAdmin" : false,
                'isLoggedIn' : false,
                "userCart" : [],
                "savedAddress"  : ["261 Yorkland Blvd, M2J 1S5, Toronto"]
            }
        ];
     
    // ----- Add data to local Storage for login/ register purposes -----
     window.onload = function() {

        // set the default users only if there are no pre-exisitng users
        if (!localStorage.getItem("users")) {
            localStorage.setItem('activeUser', null);
            localStorage.setItem("users", JSON.stringify(users));
        }
        allUsers = JSON.parse(localStorage.getItem('users'));
        console.log("all users", allUsers);


            activeUser = JSON.parse(localStorage.getItem('activeUser'));
            console.log("Check active user", activeUser);
            document.getElementById('userProfile').hidden = true;
            //    document.getElementById("alreadyLogged").hidden = true;
                    
                
                // it means user is logged in
                // we have to hide the 
            if(activeUser) {
                document.getElementById('signInBtn').hidden = true;
                document.getElementById('userProfile').hidden = false;
                document.getElementById('userProfile').innerHTML=activeUser.userName;
                document.getElementById('userNameProfile').innerHTML=activeUser.userName;
                    
                
                // document.getElementById("alreadyLogged").hidden = false;
                        
            }



     }
 

     let subMenu = document.getElementById("subMenu");
            function toggleMenu() {
                console.log("toggle ");
                subMenu.classList.toggle("open-menu");
                document.querySelector("sub-menu-wrap").classList.add('display:inline');

            }


            // function called on clicking signIn() button which will filter the particular user
            // credentials from the ones already setup ... in the localstorage..
            function signIn() {
            let userEmailId = document.getElementById('userEmailId').value;
                let password = document.getElementById('userPassword').value;
                
                // console.log(`User entered emailId : ${userEmailId}\nPassword : ${password}`);
               
                // extracting the only user with the given credentials
                let filteredUser = (allUsers.filter((user) => user.emailId === userEmailId)[0]);
                
                if (filteredUser?.emailId === userEmailId &&
                    filteredUser?.userPassword === password
                    ) {
                        
                        filteredUser.isLoggedIn = true;
                        // set an active user to the signed-in user
                        localStorage.setItem("activeUser", JSON.stringify(filteredUser));
                        localStorage.setItem("users", JSON.stringify(allUsers));
                        
                        // route to shop page if the user credential validation is successfull
                        window.location.href="./shop.html";

                    } else {
                        alert(`Invalid Credentials !! Please retry using some other credentials`);
                    }
                };
            

            // function to logout and clear the local storage for any kind of data stored and route back to home
            function logOut() {
                console.log("Function getting called");
                // changing the flag value of the boolean to false; for the active user
                localStorage.setItem('activeUser', JSON.stringify(JSON.parse(localStorage.getItem("activeUser")).isLoggedIn = false));
                // localStorage.clear();
                // localStorage.setItem('users') = 
                // JSON.stringify(JSON.parse(localStorage.getItem('users')));
                // localStorage.setItem('activeUser', null);
                window.location.href="./index.html";
                
            }


        function routeToAppointments() {
            window.location.href="./appointment-form.html";
        }

</script>




</html>