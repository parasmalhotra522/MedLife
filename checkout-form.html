<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart</title>

    <!---->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" href="./styles/home-styles.css">
    <link rel="stylesheet" href="./styles/item_categories.css">
    <link rel="stylesheet" type="text/css" href="./styles/checkout-form.css">
    <link rel="stylesheet" href="./styles/user-profile.css">
    <script   src="https://code.jquery.com/jquery-3.6.4.min.js"   integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="   crossorigin="anonymous"></script>

    <style>
        .active-nav {
            color: #e31b6d;
            font-weight: bold;
            transform: scale(1.01, 1.01);
        }
    </style>
</head>

<body>
    <header>
            
        <!--    The Upper Navbar   -->
        <nav class="navbar navbar-expand-lg navbar-light">
           <div class="container-fluid">
            <div class="row">
                <div class="col-md-2">
                    <a href="./index.html" class="navbar-brand">
                        <img src="./assets/images/logo-image.png" class="logo-image">
                    </a>
                 </div>


                 <div class="collapse navbar-collapse nav-bar  col-md-10 upper-nav-bar" id="navbarCollapse">
                    <div class="navbar-nav col-md-7">
                        <input type="search"
                         style="width:64rem;"
                        class="form-control nav-item nav-link" placeholder="Search" aria-label="Search" aria-describedby="search-addon">
                    </div>
 
                   
                    
 
                     <!--- ------** User Cart functionality showing the number of items for a user in the cart **-----  -->
                     <div class="navbar-nav col-md-1" style="width: 12.499999995%;flex: 0 0 12.499%;max-width: 12.499%;">
                         <a href="./checkout-form.html" class="nav-item nav-link"
                         id="cart-nav"
                         >
                             
                             <i class="fa fa-shopping-cart"></i>
                             Cart <script>document.getElementById('cart-nav').innerHTML=`
                             <i class="fa fa-shopping-cart"></i>
                             Cart
                             <span  style="border-radius:50%; background-color:#e31b6d;">
                             
                             <span class='badge badge-warning' style={
                                 font-size: 12px;
                                 background: #ff0000;
                                 color: #fff;
                                 padding: 0 5px;
                                 vertical-align: top;
                                 margin-left: -10px;
                             }> 
                                 ${ JSON.parse(localStorage.getItem('activeUser')).userCart.length }
                                  </span>
                             
                             `
                         
                             </script>
                                 
                     </a>
 
                     </div>
                     
                  
                    <div class="navbar-nav col-md-2">
                        <a target="_blank" href="sign-in.html" 
                        id="signInBtn"
                        class="nav-item nav-link">Sign In / Register</a>
                    </div>
                    <!-- User profile button -->
                    <div class="navbar-nav col-md-2 ms-auto"
                    style="position:absolute;
                    left:83%;
                    "
                    >
                   
                       
                        <a target="_blank" 
                        id="userProfile"
                        style="cursor: pointer; font-size: 1.2rem;padding:1.2rem;"
                        class="nav-item nav-link fa fa-user"
                        onclick="toggleMenu()"
                        >
                        </a>
                        
                    </div>
                    
                </div>
            </div>
           
               <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                   <span class="navbar-toggler-icon"></span>
               </button>
               
               
           </div>
         
       </nav>
       <div class="sub-menu-wrap" id="subMenu">
           <div class="sub-menu">
               <div class="user-info" >
                   <img src="./assets/images/profile.webp" style="height:40px;width:30px;">
                   <h2 id="userNameProfile" style="font-family: inherit; margin-left:.8rem;">

                   </h2>
               </div>
               <hr>

               <a href="#" class="sub-menu-link">
                  <i class="fa fa-user fa-2x"></i>
                   <p onclick="window.location.href=`./edit-user-profile.html`">Edit Profile ></p>
                   
               </a>

               <a href="#" class="sub-menu-link">
                   <i class="fa fa-cog fa-2x"></i>
                   <p>Settings & Privacy ></p>
                  
               </a>

               <a href="#" class="sub-menu-link" onclick="logOut()">
                  <i class="fa fa-sign-out fa-2x"></i>
                   <p>Logout ></p>
               
               </a>
           </div>
       </div>

   </header>
   <!-- Second-nav-bar-->
   <nav class="navbar navbar-expand-lg navbar-light lower-navbar">
       <div class="container-fluid">
         
           <div class="collapse navbar-collapse nav-bar" id="navbarCollapse">
               <div class="navbar-nav col-md-1" style="width: 12.499999995%;flex: 0 0 12.499%;max-width: 12.499%;"><a href="./index.html" class="nav-item nav-link active-nav"><i class="fa fa-home icons"></i>Home</a></div>
               <div class="navbar-nav col-md-1" style="width: 12.499999995%;flex: 0 0 12.499%;max-width: 12.499%;">
               <a href="./shop.html" class="nav-item nav-link"><i class="fa fa-shopping-basket p-2"></i>Shop</a></div>
               <div class="navbar-nav col-md-1 col-sm-2" style="width: 12.499999995%;flex: 0 0 12.499%;max-width: 12.499%;"><a href="./about.html" class="nav-item nav-link">About Us</a></div>
               <div class="navbar-nav col-md-2 col-sm-2" id="pharmacyServices">
                   <a href="#" class="nav-item nav-link"
                   >Pharmacy Services</a></div>
               <div class="navbar-nav col-md-3 col-sm-3"><a href="./doctor's-prescription.html" class="nav-item nav-link">Doctor's Prescription</a></div>
               


           </div>
           
       </div>
   </nav>
    
    <!-- Modal for the medical conditions -->
    <div id="conditions-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times</span>
            
            <div>
                <h4 class="categories-heading">Categories</h4>
                <hr>
                <ul class="medical-categories">
                
                    <li>
                        <a href="ent.html" class="medical-conditons">ENT (Ear, Nose, Throat)</a>
                    </li>
                    <li>
                        <a href="./eye-care.html" class="medical-conditons">Eye Care</a>
                  
                    </li>
                    <li>
                        <a href="./allergy.html" class="medical-conditons">Allergies</a>
                  
                    </li>
                    <li>
                        <a href="./diabetes.html" class="medical-conditons">Diabetes</a>
                    </li>
                    <li>
                        <a href="./mental-health.html" class="medical-conditons">Mental Health</a>
                    </li>
                </ul>
            </div>

        </div>
    </div>

    <div class="row">
        <div class="spinner-border spinner text-secondary" style="margin-left:50%;" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>

    <section class="shopping-cart container" id="elementCarts">
        
       
      

        <div class="row all-data" >
            <h1 class="header-bar" style="text-align:center;">Shopping Cart</h1>
            <h5 style="text-align: end;padding-right: 9rem;">Price</h5>
        </div>
       


    </section>

  
    <!-- ***** Back to top Section *****-->

    <section style="margin:0;padding:0; background-color:#e31b6d;" onclick="backtotop()" class="backtotop">
        <h2 style="text-align: center;padding:1rem; color:#fff; margin:0;">
            <span class="fa fa-angle-double-up spanarrow">
            </span>
            Back to top
        </h2>
    </section>


    <!-- ** Footer **  --->
    <footer>
        <section class="page-footer">


            <div class="quick-links">
                <h2 class="text-center"> Quick Links</h2>
                <ul class="footer-quick-links">
                    <li>
                        <a href="./index.html">Home</a>
                    </li>

                    <li>
                        <a href="./sign-in.html">Sign in</a>
                    </li>


                    <li><a href="./about.html">About Us</a></li>

                    <li>
                        <a href="./appointment-form.html">Book an Appointment</a>
                    </li>
                </ul>


            </div>
            <!-- Connect with us Section -->
            <div class="quick-links">
                <h2 class="text-center">Connect with Us</h2>
                <ul>

                    <li>
                        <i class="fa fa-map-marker" style="color:#FF0000;
                font-size: 1.5rem;
                padding: 1.05rem;"></i> 1 Eva Road, M9C 4Z5, Etobicoke, Canada



                    </li>
                    <li>
                        <i class="fa fa-phone" style="
                color:#00BFFF;
                font-size: 1.5rem;
                padding: 1.05rem;"></i> +1 (647)-867-4343
                    </li>

                </ul>

                <div class="contactus">

                    <li class="list-inline-item">
                        <a href="mailto:confusion@food.net" target="_blank" type="button" class="button fb">
                            <span class="fa fa-envelope fa-2x spin"></span>
                        </a>
                    </li>

                    <li class="list-inline-item">
                        <a href="https://www.twitter.com/elonmusk" target="_blank" type="button" class="button fb">
                            <span class="fa fa-twitter fa-2x spin"></span>
                        </a>
                    </li>


                    <li class="list-inline-item">
                        <a href="https://www.facebook.com/" target="_blank" type="button" class="button fb">
                            <span class="fa fa-facebook fa-2x spin"></span>
                        </a>
                    </li>

                    <li class="list-inline-item">
                        <a href="https://www.instagram.com/" target="_blank" type="button" class="button fb">
                            <span class="fa fa-instagram fa-2x spin"></span>
                        </a>
                    </li>

                </div>


            </div>


            <!-- ** GET UPDATES ** -->
            <div class="quick-links">
                <h2 class="text-center"> Get Updates</h2>

                <form class="get-updates">
                    <input type="email" class="form-control" id="inputEmail" style="width:13rem;height:1.8rem;"
                        placeholder="name@email.com" data-error="Bruh, that email address is invalid" required>
                    <br>

                    <div class="submit-btn">

                        <button type="submit" name="submit" class="form-btn submit-footer">Send Message</button>
                    </div>
                </form>



            </div>



        </section>
        <div class="footer-copyright text-center pt-2">
            © All Copyrights are reserved by MedLife Corporations
        </div>


    </footer>

    <script>
        /* ****----------- Pharmacy Modal ---------******* */
        const $ = (id) => document.getElementById(id).value;

        var modal = document.getElementById("conditions-modal");

        // Get the button that opens the modal
        var btn = document.getElementById("pharmacyServices");

        // close button to close the modal
        var span = document.getElementsByClassName("close")[0];

        window.onload = function () {

            // set the default users only if there are no pre-exisitng users
            if (!localStorage.getItem("users")) {
                localStorage.setItem('activeUser', null);
                localStorage.setItem("users", JSON.stringify(users));
            }
            allUsers = JSON.parse(localStorage.getItem('users'));
            // console.log("all users", allUsers);
            activeUser = JSON.parse(localStorage.getItem('activeUser'));
            console.log("Check active user in cart", activeUser);
            document.getElementById('userProfile').hidden = true;
            //    document.getElementById("alreadyLogged").hidden = true;


            // it means user is logged in
            // we have to hide the 
            if (activeUser) {
                document.getElementById('signInBtn').hidden = true;
                document.getElementById('userProfile').hidden = false;
                document.getElementById('userProfile').innerHTML = activeUser.userName;
                document.getElementById('userNameProfile').innerHTML = activeUser.userName;

                // hide the sign-in form if user is already logged in
                // document.getElementById("alreadyLogged").hidden = false;

            }



        }


        // When the user clicks on the button, open the modal 
        btn.onclick = function () {
            modal.style.display = "block";
        }

        // When the user clicks on <span> (x), close the modal
        span.onclick = function () {
            modal.style.display = "none";
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function (event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }


        /* ****----------- Pharmacy Modal ends ------******** */



        function backtotop() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }
        let subMenu = document.getElementById("subMenu");
        function toggleMenu() {
            console.log("toggle ");
            subMenu.classList.toggle("open-menu");
            document.querySelector("sub-menu-wrap").classList.add('display:inline');

        }


        // function to logout and clear the local storage for any kind of data stored and route back to home
        function logOut() {
            console.log("Function getting called");
            // changing the flag value of the boolean to false; for the active user
            localStorage.setItem('activeUser', JSON.stringify(JSON.parse(localStorage.getItem("activeUser")).isLoggedIn = false));
            window.location.href = "./index.html";

        }
        function routeToAppointments() {
            window.location.href = "./appointment-form.html";
        }

    </script>
    <script src="./scripts/cart.js"></script>

</body>

</html>